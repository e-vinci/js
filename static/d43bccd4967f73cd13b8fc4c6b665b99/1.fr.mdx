---
title: "Module 1 : IHM classique & interactions"
description: "D√©couverte du JS c√¥t√© browser & du DOM"
---

# Module 1 : IHM classique & interactions

Ce module vous offre principalement une d√©couverte du JS c√¥t√© browser & du DOM
pour interagir avec l'HTML d'une page web.

<br />

Voici les sujets trait√©s :

- a) [Introduction au JS c√¥t√© client dans un browser](#a)
  - a.1) [Introduction](#a1)
  - a.2) [O√π mettre du code JS ?](#a2)
  - a.3) [Comment fonctionne un browser pour afficher une page ?](#a3)
  - a.4) [Comment interagir avec son browser ?](#a4)
  - a.5) [JS standard & la norme ECMAScript](#a5)
- b) [Interagir avec le DOM](#b)
  - b.1) [Introduction](#b1)
  - b.2) [Acc√©der √† un √©l√©ment HTML](#b2)
  - b.3) [Gestion d'√©v√©nements](#b3)
    - b.3.1) [Introduction](#b3.1)
    - b.3.2) [Flux des √©v√©nements du DOM](#b3.2)
    - b.3.3) [Gestion des √©couteurs d'√©v√©nements](#b3.3)
    - b.3.4) [Les callbacks](#b3.4)
    - b.3.5) [L'objet event](#b3.5)
    - b.3.6) [Gestion de timers](#b3.6)
    - b.3.7) [Gestion d'intervalles de temps](#b3.7)
    - b.3.8) [Documentation MDN](#b3.8)
  - b.4) [Cr√©ation d'une IHM classique & interactive: tutoriel](#b4)
- c) [Exercice 1.1 : Cr√©er un repository local et distant pour g√©rer vos exercices](#c)
- d) [Exercice 1.2 : 1er script externe](#d)
- e) [Exercice 1.3 : compteur d'√©v√©nements](#e)
- f) [Exercice 1.4 : √©v√©nements diff√©r√©s dans le temps](#f)
- g) [üç¨ Exercice 1.5 : autres √©v√©nements](#f)

<br />

Dans ce module, nous allons d√©velopper des applications web classiques, fa√ßon "old school".

Nous n'allons pas utiliser d'outils pour g√©rer les d√©pendances de nos applications,

nous allons int√©grer ces d√©pendances directement √† l'aide de balises **`<script>`**.

<br />

# <a id="a"></a> a) Introduction au JS c√¥t√© client dans un browser

## <a id="a1"></a> a.1) Introduction

Le JavaScript a √©t√© cr√©√© en 1995 par Brendan Eich pour rendre les pages web interactives et ainsi
am√©liorer l'exp√©rience utilisateur.

Le JS permet de cr√©er des interactions avec l'HTML et le CSS d'un browser.

Il s'ex√©cute apr√®s la g√©n√©ration d'une page web comprenant du HTML et potentiellement du CSS.

<br />

Les bases du langage JS sont reprises dans l'introduction de ce cours,
au points e) [Introduction au langage JS](/intro#e).

Si vous ne connaissez pas encore la syntaxe du langage JS, il est important de lire cette
introduction avant de continuer dans ce module 1.

<br />

## <a id="a2"></a> a.2) O√π mettre du code JS ?

### Introduction

Il existe plusieurs fa√ßon de mettre du code JS pour interagir avec une page web.

<br />

### a.2.1) Directement dans le browser

üëç Pour ce cours, nous vous recommandons d'installer et d'utiliser comme browser **Chrome**.

Ce browser moderne facilite grandement le d√©veloppement d'applications web. Toutes les indications donn√©es dans ce cours concernant
les fonctionnalit√©s de d√©veloppement offertes par un browser seront illustr√©e par **Chrome**
uniquement.

Si vous choisissez un autre browser, il vous faudra donc trouver l'√©quivalent par vous-m√™me.

<br />

Pour acc√©der √† un environnement vous permettant d'introduire du JS directement dans votre
browser, vous allez acc√©der √† la `console` de votre browser. Pour ce faire, lorsque votre
browser est ouvert, tapez : **F12** ou **CTRL + SHIFT + i** ou clic droit sur votre browser
puis **Inspecter**.

<br />

Il faut ensuite s√©lectionner l'onglet "**Console**" du browser.

<br />

<ScrollableImage name="console.PNG" minWidth="400px" maxWidth="600px" />

<figcaption>Utilisation de la console pour faire un calcul</figcaption>

<br />

Cette incroyable r√©v√©lation nous permet de r√©aliser que o√π que nous soyons, si nous avons
besoin d'une calculatrice, nous pourrons toujours utiliser notre browser pour le faire.

<br />

Veuillez d√®s √† pr√©sent en faire l'exp√©rience d'√©crire du JS en copiant / collant ce code
dans la console de votre browser.

```js
let message = "Hello world!";
console.log(message);
```

<br />

Veuillez noter que pour faciliter vos op√©rations de copier / coller, le bouton <Image name="copy.PNG" width="40px" height="40px" display="inline-block" /> (√©quivalent de l'op√©ration de s√©lection du code, puis **Clic droit**, **Copier** ou **CTRL c**)
est mis √† disposition en haut √† gauche de tous les snippets de code :
lorsque vous cliquez dessus, le morceau de code sera copi√© (dans l'historique du presse-papier)
et vous n'aurez plus qu'√† le coller l√† o√π d√©sir√©, par exemple √† l'aide du **CTRL v** (√©quivalent
de l'op√©ration **Clic droit**, **Coller**).

<br />

### a.2.2) Dans une page HTML

#### a.2.2.1) Introduction

Il existe plusieurs fa√ßons d'associer du JS √† une page HTML.

Pour √©crire du code JS, de l'HTML ou du CSS, vous aurez besoin d'un √©diteur de code.
Il existe beaucoup d'√©diteurs.

<br />

üëç Pour √©crire du code, dans ce cours, nous vous recommandons d'installer,
d√®s maintenant si √ßa n'est pas d√©j√† fait, **Visual Studio Code** :
https://code.visualstudio.com/download [[18.]](/references/#r18).

<br />

Lors de l'installation, nous vous recommandons de s√©lectionner l'option "Open with code".
Cela vous permettra d'ouvrir un projet directement en faisant un clic droit sur un dossier.

<br />

Toutes les indications donn√©es dans ce cours concernant
les fonctionnalit√©s de d√©veloppement offertes par un √©diteur de code seront illustr√©e
par **VS Code** uniquement. Notons que cet outil est Open Source et est support√©
par une large communaut√© de d√©veloppeurs.

Il est possible que vous pr√©f√©riez utiliser un autre √©diteur de code ou IDE, comme un des
outils de la suite JetBrains (IntelliJ ou WebStorm).

Si vous choisissez un de ces √©diteurs, il vous faudra donc trouver l'√©quivalent
des outils de d√©veloppement pr√©sent√©s dans ce cours par vous-m√™me.

<br />

#### a.2.2.2) Dans un fichier externe

üëç La fa√ßon recommand√©e pour associer du JS √† une page HTML, c'est de mettre le code JS
dans un script externe, un fichier **.js**, et de faire appel √† ce code au sein de la page
HTML, √† l'aide de **`<script src="file_name.js">`** juste avant la balise de fermeture **`</body>`**.

<br />

Nous verrons plus tard comment l'HTML est rendu au sein du browser. N√©anmoins, la raison
pour laquelle il est recommand√© d'inclure le script JS √† la fin de la balise **`</body>`**,
c'est pour nous assurer que si le JS doit interagir avec des √©l√©ments HTMLs, ceux-ci aient
d√©j√† √©t√© rendu par le browser.

<br />

Veuillez cr√©er un r√©pertoire qui contiendra tout le code que vous allez ex√©cuter dans le cadre
de ce cours, par exemple le r√©pertoire **web2**.

Au sein de ce r√©pertoire, nous vous recommandons de s√©parer le code des tutoriels du code des
exercices. Par exemple, dans **web2**, cr√©ez les r√©pertoires **tutorials** et **exercises**.

<br />

Afin d'avoir une visibilit√© de tout le code associ√© √† votre cours de JS, veuillez ouvrir votre
r√©pertoire **web2** √† l'aide de votre √©diteur de code. Vous avez deux possiblit√©s :

- Soit, si vous avez activ√© l'option "Open with code" lors de l'installation de VS Code, clic droit
  sur le r√©pertoire **web2** et **Open with Code**.
- Soit, si par exemple l'option **Open with Code** n'est pas disponible, vous lancez VS Code,
  **File**, **Open Folder**, et vous s√©lectionnez votre r√©pertoire **web2** (clic sur le r√©pertoire,
  puis sur le bouton **Select Folder**).

<br />

Dans VS Code, vous allez maintenant cr√©er un r√©pertoire **external-script** dans **/web2/tutorials**.

Pour ce faire, clicquez sur **tutorials** et ensuite sur l'ic√¥ne **New Folder**, et donnez le
nom voulu √† ce r√©pertoire (**external-script**).

<br />

Dans ce r√©pertoire, veuillez cr√©er un fichier HTML **index.html**.

Pour ce faire, clicquez sur **external-script** et ensuite sur l'ic√¥ne **New File**, et donnez le
nom voulu √† ce fichier (**index.html**).

<br />

A ce stade-ci, votre r√©pertoire **web2** & VS Code devrait ressembler √† cela :

<br />

<ScrollableImage name="start.PNG" minWidth="400px" maxWidth="600px" />

<br />

Veuillez ajouter ce contenu √† **index.html** :

```html
<html>
  <head>
    <title>Demo : external JS script</title>
  </head>
  <body>
    <script src="external-script.js"></script>
    Hello everybody !
  </body>
</html>
```

<br />

On voit que ce fichier HTML est pr√™t √† acceuillir du script externe.

Veuillez cr√©er le fichier **external-script.js** au sein du r√©pertoire **external-script**
et y ajouter ce code ci :

```js
alert("Pop-up thanks to an external JS file.");
```

<br />

Il nous reste maintenant √† ex√©cuter cette application.

Comme c'est une application web, nous avons besoin d'un serveur web pour afficher cette page
web dans les r√®gles de l'art.

Il existe une multitude de serveurs web : Apache, IIS (Microsoft Web Server)...

<br />{" "}

Lorsque nous d√©veloppons des applications web "old school", sans outil moderne pour g√©rer les
d√©pendances de notre application, nous allons utiliser un serveur web int√©gr√© √† VS Code.

<br />

Pour ce faire, veuillez installer l'extension **Live Server** de VS Code :

- Dans le menu de gauche de VS Code, clicquez sur l'ic√¥ne **Extensions** (4 petits carr√©s).
- Ecrivez **Live Server**.
- Cliquez sur **Install**.

<br />

Une fois install√©, vous pouvez lancer votre page web en faisant :

- Clic droit sur **index.html**,
- **Open with Live Server**

<br />

üéâ Votre browser par d√©faut s'ouvrira, affichant votre toute premi√®re page web contenant du JS
c√¥t√© client !

<br />

Si √ßa n'est pas Chrome qui s'ouvre, nous vous recommandons de changer les pr√©f√©rences de votre
OS. Sous Windows, dans la barre de recherche, vous trouverez facilement l'utilitaire pour
le faire. Par exemple, pour un OS Windows en anglais : **Default apps**, **Web browser**.

<br />{" "}

üëç Il est recommand√© de cr√©er des fichiers s√©par√©s pour chaque cat√©gorie
de code : **.html**, **.js**, **.css**.

Cela permet d'augmenter la lisibilit√© et la maintenabilit√© de votre code.

<br />

#### a.2.2.3) Dans une fonction au sein d'une page HTML

üëé Il est possible d'ajouter du JS dans une fonction
ou √©v√©nement associ√© √† un √©l√©ment HTML, n√©anmoins cela
n'est pas recommand√© lorsqu'on √©crit du Vanilla JS.

On n'appelle cette fa√ßon de faire "Inline JavaScript".

<br />

L'application d√©velopp√©e au point pr√©c√©dent fournirait le m√™me genre de r√©sultat,
avec un seul fichier HTML (**index.html**) :

```html numbered {6-7}
<html>
  <head>
    <title>Demo : internal JS in a function</title>
  </head>
  <body
    onload="alert('Pop-up thanks to an HTML attribute & a function.' 
    +'\nIt\'s not advised to add your scripts directly within the HTML.')"
  >
    <h1>Hello everyone ; )</h1>
  </body>
</html>
```

<br />

**onload** est un √©v√©nement qui se produira une fois que
l'√©l√©ment **body** aura charg√© tout son contenu ; une fois
charg√©, le code JS s'ex√©cutera et affichera donc un pop-up.

<br />

N'h√©sitez pas √† visualiser cette page √† l'aide de Live Server
au sein de VS Code.

<br />

En Vanilla JS, ce genre de code est d√©conseill√©. Vous trouverez n√©anmoins beaucoup de code
√©crit de cette fa√ßon sur le web.

<br />

Si plus tard, suite √† ce cours, vous veniez √† utiliser des frameworks comme React,
vous d√©couvrirez que parfois on pr√©f√®re encapsuler l'HTML et le JS au sein de m√™mes fichiers.

#### a.2.2.4) Dans une balise script au sein d'une page HTML

üëé Il est possible d'ajouter du JS dans une balise **script**
au sein d'un page HTML, n√©anmoins cela
n'est pas recommand√© lorsqu'on √©crit du Vanilla JS.

<br />

Avec un seul fichier HTML (**index.html**), voici comment il est possible d'afficher un pop-up :

```html numbered {6-11}
<html>
  <head>
    <title>Demo : internal script tag</title>
  </head>
  <body>
    <script>
      alert(
        "Pop-up thanks to a script tag." +
          "\nIt's not advised to add your scripts directly within the HTML."
      );
    </script>
    Hello world ; )
  </body>
</html>
```

<br />

## <a id="a3"></a> a.3) Comment fonctionne un browser pour afficher une page ?

### a.3.1) R√©ception des donn√©es

Dans une premi√®re √©tape, lorsque vous acc√©der √† l'URL d'un site web √† l'aide de votre
browser, celui-ci va principalement recevoir des fichiers HTML, CSS & JS en retour, sous
forme d'octets.

<ScrollableImage name="bytes.png" minWidth="600px" maxWidth="730px" />

[_R√©ception des donn√©es par le browser [R.19]_](/references/#r19)

<br />

### a.3.2) Cr√©ation des structures de donn√©es utiles

Une fois les donn√©es re√ßue, le browser doit pouvoir interpr√™ter les octets re√ßus.
Gr√¢ce au "character encoding", √† notre √©poque nous devrions tous utiliser **utf-8**,
le browser peut faire la transformation de ces octets vers des caract√®res.

<br />

A partir des caract√®res, le browser peut commencer le parsing de chaque fichier, en identifiant
les tokens, des structures de donn√©es identifiant les diff√©rents tags HTML & leurs attributs.

<br />

A partir de ces tokens, le browser va cr√©er des nodes et les lier entre-eux sous forme
d'un arbre. C'est cette structure de donn√©es que nous appelons le Document Object Model (DOM).

<ScrollableImage name="dom.png" minWidth="600px" maxWidth="730px" />

[_Construction du DOM par le browser [R.19]_](/references/#r19)

<br />

Au fur et √† mesure que le browser re√ßoit des donn√©es & construit le DOM, il peut tomber sur une
balise incluant du CSS, comme par exemple :

```html
<head>
  <link rel="stylesheet" type="text/css" href="main.css" />
</head>
```

<br />

Dans ce cas, le browser va aussi initialiser un process √©quivalent au DOM, mais pour cr√©er
une structure de donn√©es traitant des √©l√©ments de style, le CSS Object Model (CSSOM) :

<ScrollableImage name="cssom.png" minWidth="600px" maxWidth="730px" />

[_Construction du CSSOM par le browser [R.19]_](/references/#r19)

<br />

### a.3.3) Cr√©ation du render tree

Les structures du DOM & du CSSOM sont ind√©pendantes.

Le browser va combiner ces deux structures en un "render tree".

<ScrollableImage name="render.png" minWidth="600px" maxWidth="730px" />

[_Construction du render tree par le browser [R.19]_](/references/#r19)

<br />

S'il y a des √©l√©ments cach√©s par le biais du CSS, ceux-ci seront pr√©sents dans le DOM,
mais pas dans le render tree.

<br />

### a.3.4) Cr√©ation du layout

L'√©tape qui suit est de cr√©er le layout, √©tape parfois nomm√©e "reflow".
Le browser va calculer la taille et la position exacte de chaque √©l√©ment √† rendre (de l'anglais
"render"), c'est-√†-dire √† afficher sur la page.

<br />

### a.3.5) Affichage des √©l√©ments

Sur base du render tree & du layout, le browser peut finalement "peindre" les diff√©rents
nodes √† l'√©cran et donc rendre la page !

<br />

### a.3.6) Et le JS ?

Lors de la cr√©ation du DOM, s'il y a une balise script, et bien le script JS sera t√©l√©charg√©.
La construction du DOM sera "bloqu√©e" jusqu'√† la fin de l'ex√©cution du script.

De la m√™me fa√ßon, l'ex√©cution du CSSOM sera stopp√©e si le JS acc√®dent au style d'un √©l√©ment HTML.

<br />{" "}

Il est donc important de faire attention o√π l'on met ses scripts JS.
C'est pourquoi, lorsqu'on souhaite interagir avec des √©l√©ments pr√©sents dans l'HTML,
il faut mettre la balise script incluant le JS √† la fin de la balise **body**.

<br />

Le JS va donc pouvoir √™tre utilis√© tant pour cr√©er des √©l√©ments du DOM & du CSSOM que
pour interagir avec ceux-ci et rendre nos pages web int√©ressantes & "user friendly".

<br />

## <a id="a4"></a> a.4) Comment interagir avec son browser ?

Les browser mettent √† disposition des API (Application Programming Interface), des librairies
permettant d'interagir avec les pages web.

<br />

<ScrollableImage name="browser.png" minWidth="600px" maxWidth="730px" />

[_Relation entre API & le browser [R.20]_](/references/#r20)

<br />

Les "Third party APIs" sont localis√©es sur des serveurs externes :
lien vers une libraire JS, appel vers des web services comme Twitter, Google Maps‚Ä¶

<br />{" "}

Les "Browser APIs" sont int√©gr√©es au browser et permettent d'interagir avec celui-ci.

Voici quelques exemples d'API du browser pour :

- Manipuler des pages web : **DOM API** ; c'est l'API la plus importante quand on fait du d√©veloppement d'IHM.
- Dessiner / animer : **Canvas** & **WebGL** ;
- Communiquer des donn√©es avec un serveur : **Fetch API**, et anciennement **XMLHttpRequest** ;
- G√©rer des flux audio & vid√©o : **Audio & Video APIs**
- G√©rer la persistance de donn√©es : **Web Storage APIs** (**cookies**, **localStorage**, **sessionStorage**‚Ä¶)

<br />

Via des objets JS, ce sont ces API que nous allons utiliser dans nos scripts JS,
afin de cr√©er des pages web interactives.

Il n'existe pas de standard pour le Browser Object Model.

Voici une vue des diff√©rents objets JS qui permettent d'accc√©der au Browser Object Model :

<ScrollableImage name="bom.png" minWidth="360px" maxWidth="360px" />

[_Les objets JS offerts par le browser [R.21]_](/references/#r21)

<br />

Voici quelques explications concernant le r√¥le de certains de ces objets :

- **window** : objet manipulant la fen√™tre du browser m√™me, il offre des fonctions comme : **alert()**, **prompt()**‚Ä¶
- **navigator** (**===window.navigator**) : objet contenant de l'information sur le browser, comme par exemple :
  **navigator.appName**, **navigator.appVersion**.
- **location** : (**===window.location**) objet repr√©sentant l'URL de la page ; il offre des propri√©t√©s & m√©thodes comme :
  - **location.href** :l'URL de la page affich√©e.
  - **location.reload()** : recharge la page.
  - **location.replace('https://URL_INDIQUEE')** : navigue vers l'URL indiqu√©e.
- **document** : (**===window.document**) objet manipulant le corps de l'HTML & du CSS de la page. Nous allons maintenant
  approfondir les propri√©t√©s & m√©thodes mises √† disposition par cet objet JS.

<br />

## <a id="a5"></a> a.5) JS standard & la norme ECMAScript

La norme ECMAScript, le standard pour le JS c√¥t√© client, d√©bouche sur de multiples impl√©mentations
du JS (ActionScript, JScript, JavaScript, CommonJS...).

<br />

ECMAScript est utilis√© g√©n√©ralement pour des scripts c√¥t√© client, mais de plus en plus est aussi
utilis√© c√¥t√© serveur avec Node.js.

<br />

La version en cours approuv√©e de ECMAScript est ECMAScript 2022 [[R.24]](/references/#r24).

<br />

Par exemple, ECMAScript 2015 (aussi appel√©e ES6) √† mis en place de nouveaux √©l√©ments importants
au sein du JS : arrow functions, **let** & **const**, promise, **class**‚Ä¶

<br />

ECMAScript 2015 (ES6) est support√© par la majorit√© des browsers modernes, mais pas par IE !

<br />

üëç Nous vous recommandons d'√©crire du code moderne conforme √† ES6 ou une version plus r√©cente.

Si vos applications doivent supporter de vieux browsers, vous devriez utiliser des outils comme
Babel qui automatiquement convertira votre code ES6+ vers des versions de JS plus anciennes.

<br />

Si l'aspect normatif vous passionne et que vous souhaitez suivre
les propositions d'inclusion dans la norme : [[R.25]](/references/#r25).

<br />

# <a id="b"></a> b) Interagir avec le DOM

## <a id="b1"></a> b.1) Introduction

Le Document Object Model (DOM) est une structure de donn√©es, sous forme d'arbre, repr√©sentant les √©l√©ments HTML d'une
page web.

Une page web est automatiquement r√©affich√©e quand une manipulation JS met √† jour un objet
issu du DOM.

<br />

Le DOM donne acc√®s aux √©l√©ments HTML ainsi qu'√† leur style. Il est donc possible de mettre
√† jour tant l'HTML que le CSS d'une page web.

<ScrollableImage name="dom2.png" minWidth="486px" maxWidth="500px" />

[HTML DOM Tree [R.22]](/references/#r22)

<br />

## <a id="b2"></a> b.2) Acc√©der √† un √©l√©ment HTML

### b.2.1) Introduction

Il existe plusieurs moyens d'acc√©der √† un √©l√©ment HTML via des m√©thodes offertes par le DOM.

Nous allons voir ensemble les fa√ßons les plus pratiques.

<br />

### b.2.2) querySelector()

Cette m√©thode retourne le 1er √©l√©ment qui correspond √† un s√©lecteur CSS.

Voici un exemple :

```html
<button id="myBtn2">Click¬†please</button>
<div class="message"></div>
```

<br />

Voici le code JS permettant d'acc√©der au √©l√©ments donn√©s ci-dessus :

```js
let btn2 = document.querySelector("#myBtn2"); //¬†HTML¬†id¬†attribute
let msg = document.querySelector(".message"); //¬†CSS class name
let duplicateMsg = document.querySelector("div"); //¬†HTML tag name
```

<br />

Les CSS s√©lecteurs sont importants en JS, tout comme en CSS :

- **#** : permet l'acc√®s via la propri√©t√© html **id**.
- **.** : permet l'acc√®s via une classe qui aurait √©t√© donn√©e √† l'√©l√©ment HTML (via la propri√©t√© **class**).
- **TAG_NAME** : permet l'acc√®s √† un √©l√©ment via le nom de la balise associ√©e √† l'√©l√©ment HTML.

<br />

Notons que pour modifier un √©l√©ment HTML pour lequel nous avons obtenu une r√©f√©rence,
il suffit de changer une de ses propri√©t√©s. On utilise pour cela le nom des propri√©t√©s associ√©es
√† l'√©l√©ment HTML.
Par exemple, si l'on souhaite changer le texte de **btn2**, il suffit de changer sa propri√©t√©
**innerText** ou **innerHTML** :

```js
btn2.innerText = "I have been clicked";
```

Une fois cette ligne ex√©cut√©e par le browser, comme le DOM a √©t√© modifi√©, le bouton serait
automatiquement r√©affich√© avec le nouveau texte `"I have been clicked"`.

<br />

### b.2.3) getElementById()

Cette m√©thode retourne l'√©l√©ment dont la propri√©t√© HTML nomm√©e **`id`** contient la valeur
donn√©e en param√®tre.

Voici un exemple :

```html
<button id="myBtn1">Click¬†please</button>
```

<br />

Voici comment on pourrait acc√©der √† cet √©l√©ment :

```js
let btn1 = document.getElementById("myBtn1");
```

<br />

### b.2.4) querySelectorAll()

Cette m√©thode retourne tous les √©l√©ments qui correspondent √† un s√©lecteur CSS, sous forme
d'une **`NodeList`**.

Voici un exemple :

```html
<button id="myBtn1">Click¬†please</button>
<button id="myBtn2">Click¬†please</button>
<button id="myBtn3">Click¬†please</button>
```

<br />

Voici comment on pourrait acc√©der √† ces √©l√©ments afin de mettre √† jour leurs textes :

```js
const buttons = document.querySelectorAll("button");
buttons.forEach((btn) => {
  btn.innerText = "Hacked!";
});
```

<br />

### b.2.5) Autres m√©thodes

Il existe bien s√ªr d'autres m√©thodes pour acc√©der aux √©l√©ments HTML.

Nous pensons que si vous retenez les **querySelector**, il n'est pas n√©cessaire d'en conna√Ætre
d'autres.

<br />

N√©anmoins, n'h√©sitez pas √† explorer [la
documentation MDN ici](https://developer.mozilla.org/en-US/docs/Web/API/Document)
[[23.]](/references/#r23).

<br />

## <a id="b3"></a> b.3) Gestion d'√©v√©nements

### <a id="b3.1"></a> b.3.1) Introduction

La gestion d'√©v√©nements consiste ici √† la prise en compte des actions des utilisateurs
suite √† un √©v√©n√©ment du browser.

Pour r√©aliser une bonne IHM, nous allons faire de la programmation √©v√©nementielle.
Nous allons √©crire du code pour d√©crire ce qui doit √™tre fait en fonction d'un clic,
du passage d'une souris...

<br />

On va ajouter des √©couteurs d'√©v√©nements ("event listeners") sur des √©l√©ments du DOM
pour d√©finir des actions qui seront √† r√©aliser une fois l'√©v√©nement soulev√©.

<br />

Vous connaissez d√©j√† des √©v√©nements qui am√®nent √† des actions par d√©faut, par exemple :

- lors d'un clic sur un bouton de type "submit" d'un formulaire, les donn√©es sont envoy√©es
  au serveur et la page est rafraichie.
- lors d'un clic sur un "hyperlink", on est redirig√© vers une nouvelle page.

<br />

Certains types d'√©v√©nements sont dits "cancelable events". Pour ces √©v√©nements, il est possible
de stopper l'action par d√©faut. Nous allons prochainement d√©couvrir comment nous pourrions
emp√™cher de rafraichir une page lors du clic sur le bouton "submit" d'un formulaire.

<br />

### <a id="b3.2"></a> b.3.2) Flux des √©v√©nements du DOM

Il est possible que plusieurs √©couteurs d'√©v√©nements soient actifs au sein d'une IHM.

Voici comment le browser traite les √©v√©nements :

1. Dans la phase de capture : l'√©v√©nement est captur√© et propag√© des √©l√©ments anc√™tres
   vers l'√©l√©ment cible de l'√©v√©nement.
2. Dans la "target phase" : l'√©v√©nement est g√©r√© par l'√©l√©ment cible.
3. Dans la "bubbling phase" : l'√©v√©nement est propag√© de l'√©l√©ment cible vers ses anc√™tres
   qui pourront eux-aussi g√©rer cet √©v√©nement si n√©cessaire.

<ScrollableImage name="eventflow.png" minWidth="480px" maxWidth="500px" />

[Flux de traitement d'un √©v√©nement [R.26]\_](/references/#r26)

<br />

### <a id="b3.3"></a> b.3.3) Gestion des √©couteurs d'√©v√©nements

### b.2.3.1) Introduction

Il est possible de g√©rer des √©v√©nements de plusieurs fa√ßons.

<br />

### b.2.3.2) Via des m√©thodes

Vous pouvez ajouter des √©couteurs d'√©v√©nements √† l'aide de la m√©thode **addEventListener()**.

Vous pouvez enlever des √©couteurs d'√©v√©nements √† l'aide de la m√©thode **removeEventListener()**.

Voici un exemple :

```html
<html>
  <head>
    <title>Demo : click event management to update a button</title>
  </head>
  <body>
    <button id="myBtn1">Click please</button>
    <button id="myBtn2">Click please</button>
    <button id="myBtn3">Click please</button>
    <button id="myBtn4">Remove extra actions</button>
    <script src="index.js"></script>
  </body>
</html>
```

<br />

Voici comment on pourrait g√©rer des clics sur ces boutons :

```js
const btn1 = document.querySelector("#myBtn1");
const btn2 = document.querySelector("#myBtn2");
const buttons = document.querySelectorAll("button");
const btn3 = buttons[2]; // fancy way to get a reference...
const btn4 = document.querySelector("#myBtn4");

btn1.addEventListener("click", () => {
  btn1.innerText = "I have been clicked !";
  console.log("onClickHandlerForBtn1::click");
});
btn2.addEventListener("click", onClickHandlerForBtn2);
btn2.addEventListener("click", onClickHandlerForBtnExtra);
btn3.addEventListener("click", onClickHandlerForBtn3);

function onClickHandlerForBtn2() {
  btn2.innerText = "I have also been clicked";
  console.log("onClickHandlerForBtn2::click");
}

function onClickHandlerForBtn3() {
  console.log("onClickHandlerForBtn3::click");
  btn2.removeEventListener("click", onClickHandlerForBtnExtra);
}

function onClickHandlerForBtnExtra() {
  console.log("onClickHandlerForBtnExtra::click");
}
```

<br />

N'h√©sitez pas √† ex√©cuter ce code.

Comment faire ?

Au sein de votre r√©pertoire **/web2/tutorial**, vous pourriez cr√©er un
r√©pertoire **events**, et y ajouter un fichier **index.html** contenant l'HTML ci-dessus.

Puis vous pourriez ajouter un fichier **index.js** contenant le JS ci-dessus.

<br />

Utilisez Live Server pour lancer **index.html** et acc√©dez √† la console de votre browser pour
voir ce qui se passe lors de clic sur chacun des boutons.

<br />

### b.2.3.32) Via des propri√©t√©s

üëé Il est aussi possible d'ajouter des √©couteurs d'√©v√©nements √† l'aide de propri√©t√©s, mais
nous ne le recommandons pas.

```js
btn4.onclick = function () {
  btn4.innerText = "You clicked on me : )";
  console.log("btn.onclick::anonymous function");
};
```

<br />

Sur internet, vous trouverez beaucoup d'exemples de gestion d'√©v√©nements √† l'aide de propri√©t√©s.

üëç Si vous veniez √† utiliser ce genre de code, nous vous recommandons un refactor vers l'utilisation
de **addEventListenner**.

<br />

### <a id="b3.4"></a> b.3.4) Les callback

Les √©couteurs d'√©v√©nements ont besoin de pr√©ciser une action asynchrone, une action
qui sera √† r√©aliser le moment venu.

Pour sp√©cifier cette action asynchrone, nous faisons ce que nous appelons de la programmation
fonctionnelle.
A la fonction **addEventListenner**, nous lui passons en param√®tre une autre fonction que nous
appellons une **callback**.

<br />

Une callback sera donc la fonction qui sera appel√©e le moment venu. Dans le cadre de la
fonction **addEventListenner**, l' "event listener callback" sera appel√©e lorsque l'√©v√©nement
sera trait√© par l'√©l√©ment HTML cible.

Dans ce code-ci :

```js numbered {7-13}
const btn1 = document.querySelector("#myBtn1");
const btn2 = document.querySelector("#myBtn2");
const buttons = document.querySelectorAll("button");
const btn3 = buttons[2]; // fancy way to get a reference...
const btn4 = document.querySelector("#myBtn4");

btn1.addEventListener("click", () => {
  btn1.innerText = "I have been clicked !";
  console.log("onClickHandlerForBtn1::click");
});
btn2.addEventListener("click", onClickHandlerForBtn2);
btn2.addEventListener("click", onClickHandlerForBtnExtra);
btn3.addEventListener("click", onClickHandlerForBtn3);

function onClickHandlerForBtn2() {
  btn2.innerText = "I have also been clicked";
  console.log("onClickHandlerForBtn2::click");
}

function onClickHandlerForBtn3() {
  console.log("onClickHandlerForBtn3::click");
  btn2.removeEventListener("click", onClickHandlerForBtnExtra);
}

function onClickHandlerForBtnExtra() {
  console.log("onClickHandlerForBtnExtra::click");
}
```

On voit que les callback, le 2√®me param√®tre d' **addEventListener**,
peuvent √™tre soit des fonctions "arrow" ou anonymes, soit des fonctions
nomm√©es.

<br />

‚ö° Lorsque vous indiquez une callback, il est important que vous omettiez les parenth√®ses de
la fonction. Sinon, cela ne fonctionne pas, vous devez donner la d√©finition d'une fonction,
pas l'appel d'une fonction !

<br />

### <a id="b3.5"></a> b.3.5) L'objet event

L'objet "event" est automatiquement pass√© √† la callback d'un √©couteur d'√©v√©nement.

Il est tr√®s utile pour deux raisons principalement :

- Stopper l'action par d√©faut suite √† un √©v√©nement.
- Lorsqu'on attache une m√™me callback √† une multitude d'√©l√©ments, pour retrouver la cible de l'√©v√©nement.

<br />

Voici un exemple o√π l'on souhaite d√©couvrir l'id de la **div** lorsque la souris
quitte celle-ci. **index.html** contient 6 divs :

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Demo : mouse-over event management to update a div</title>
    <link rel="stylesheet" href="./main.css">

<body>

    <div class="message" id="msgBox1">
        Waiting for the call to a welcome function...
    </div>

    <div class="message" id="msgBox2">
        Waiting for the call to a welcome function...
    </div>

    <div class="message" id="msgBox3">
        Waiting for the call to a welcome function...
    </div>

    <div class="message" id="msgBox4">
        Waiting for the call to a welcome function...
    </div>

    <div class="message" id="msgBox5">
        Waiting for the call to a welcome function...
    </div>

    <div class="message" id="msgBox6">
        Waiting for the call to a welcome function...
    </div>

    <script src="index.js" ></script>

</body>
</html>
```

<br />

Un peu de style pour bien visualiser les 6 divs au sein de **main.css** :

```css
.message {
  padding: 1rem;
  margin: 1rem;
  border: solid 1px black;
}
```

<br />

Voici comment on pourrait g√©rer les mouvements de la souris au sein de **index.js** :

```js {8-9}
const divs = document.querySelectorAll(".message");

divs.forEach((div) => {
  div.addEventListener("mouseover", () => {
    div.innerText = "Hello world!";
  });

  div.addEventListener("mouseout", (e) => {
    div.innerText = `You have left the div wit id ${e.target.id}`;
  });
});
```

<br />

L'event objet a √©t√© nomm√© **e** ici, mais nous aurions pu lui donner le nom que l'on souhaitait.

üëç Pour √©viter la confusion, il est recommand√© de l'appeler **e** (ou √©ventuellement **event**).

<br />

**e.target** est l'√©l√©ment HTML qui lance la propagation de l'√©v√©nement dans le DOM tree.

<br />{" "}

Parfois on pr√©f√®re utiliser **e.currentTarget** qui est l'√©l√©ment HTML sur lequel est attach√©
l'√©couteur d'√©v√©nement.

<br />

N'h√©sitez pas √† ex√©cuter le code ci-dessus, si vous le souhaitez, en cr√©ant les
3 fichiers n√©cessaires.

<br />

Voici un exemple partiel de gestion de formulaire o√π l'on utilise l'objet "event" pour stopper
l'action par d√©faut qui est d'envoyer les donn√©es au serveur (indiqu√© par la propri√©t√©
**action** du formulaire) et de recharger la page :

```js {3,5}
// code to get the reference to the form shall be imagined

const onSubmit = (e) => {
  console.log("onSubmit::");
  e.preventDefault();
};

myForm.addEventListener("submit", onSubmit);
```

<br />

### <a id="b3.6"></a> b.3.6) Gestion de timers

**setTimeout(f,t)** permet l'ex√©cution d'une callback **f** √† l'expiration d'un timer, apr√®s **t** ms.

<br />

**clearTimeout()** permet de stopper l'ex√©cution d'une callback qui a √©t√© appel√©e via
**setTimeout()**.

Voici un exemple :

```html
<html>
  <head>
    <title>Demo : timer management</title>
  </head>
  <body>
    <button id="myBtn1">Show pop-up after 2s timer</button>
    <button id="myBtn2">Clear planned action</button>
    <script src="index.js"></script>
  </body>
</html>
```

<br />

```js numbered {7,12-14,18}
const btn1 = document.querySelector("#myBtn1");
const btn2 = document.querySelector("#myBtn2");

btn1.addEventListener("click", delayedAlert);
btn2.addEventListener("click", clearAlert);

var timeoutId;
const delayInSeconds = 2;
const delayInMiliSeconds = delayInSeconds * 1000;

function delayedAlert() {
  timeoutID = setTimeout(() => {
    alert(`You asked for this popup ${delayInSeconds}s ago!`);
  }, delayInMiliSeconds);
}

function clearAlert() {
  clearTimeout(timeoutID);
}
```

<br />

N'h√©sitez pas √† ex√©cuter ce code si vous le souhaitez en cr√©ant les 2 fichiers n√©cessaires.

<br />

Normalement, si vous clicquez sur le 1er bouton, puis avant deux secondes sur le deuxi√®me bouton,
aucun pop-up ne sera lanc√©.

<br />

### <a id="b3.7"></a> b.3.7) Gestion d'intervalles de temps

**setInterval(f,t)** permet l'ex√©cution d'une callback **f** tous les **t** ms.

**clearInterval()** permet de stopper les appels √† la callback qui ont √©t√© programm√©s via
**setInterval()**.

On souhaiterait programmer une horloge, voici un simple exemple :

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo : interval management to provide a clock</title>
  </head>
  <body>
    <span></span>
    <br />
    <button>Stop or resume the clock</button>
    <script src="./index.js"></script>
  </body>
</html>
```

<br />

```js numbered {6,11,22}
const btn = document.querySelector("button");
const clockHolder = document.querySelector("span");

btn.addEventListener("click", stopOrResumeClock);

var myIntervalId;

startClock();

function startClock() {
  myIntervalId = setInterval(printCurrentTime, 1000);
}

function printCurrentTime() {
  const now = new Date();
  const time = now.toLocaleTimeString();
  clockHolder.innerText = time;
}

function stopOrResumeClock() {
  if (myIntervalId) {
    clearInterval(myIntervalId);
    myIntervalId = undefined;
  } else startClock();
}
```

<br />

N'h√©sitez pas √† ex√©cuter ce code si vous le souhaitez en cr√©ant les 2 fichiers n√©cessaires.

La gestion d'intervalles, de cette fa√ßon, est l'anc√™tre des animations en JS !

<br />

### <a id="b3.8"></a> b.3.8) Documentation MDN

Si vous souhaitez consulter la documentation MDN concernant la gestion d'√©v√©nements, afin d'approfondir :

- Introduction aux √©v√©nements [[R.27]](/references/#r27)
- Index & liste de tous les √©v√©nements [[R.28]](/references/#r28)

<br />

## <a id="b4"></a> b.4) Cr√©ation d'une IHM classique & interactive: tutoriel

### <a id="b4.1"></a> b.4.1) Introduction aux tutoriels

Tout au long des modules du cours, nous allons d√©velopper de mani√®re incr√©mentale,
via une s√©rie de tutoriels, un site pour une pizzeria.

Il est important que vous ex√©cutiez et compreniez le code associ√© √† ces tutoriels qui reprendront
toutes les comp√©tences attendues dans le cadre de ce cours.

<br />

Une fois un tutoriel r√©alis√©, vous pourrez voir si vous avez bien acquis les comp√©tences
du module en vous attaquant aux exercices.

<br />

Dans votre repo **web2**, veuillez cr√©er les r√©pertoires **/tutorials/pizzeria/hmi/classic**.

Nous allons maintenant d√©velopper la version classique du site d'une pizzeria dans le dossier
**classic**.

Veuillez ajouter dans **classic** ces 3 r√©pertoires :

- **/tutorials/pizzeria/hmi/classic/img** : c'est l√† que seront reprises les photos ;
- **/tutorials/pizzeria/hmi/classic/sound** : c'est l√† que les fichiers sonores seront ajout√©s ;
- **/tutorials/pizzeria/hmi/classic/stylesheets** : c'est l√† que le CSS sera donn√©.

<br />

Par la suite, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire
**/tutorials/pizzeria/hmi/classic** (ou **/web2/tutorials/pizzeria/hmi/classic** si l'on 
consid√®re le nom du r√©pertoire du repo).

Veuillez ajouter ces 3 images dans **/img** :

- <LinkFile name="pizza.jpg" target="_blank" download>
    Photo √† utiliser comme background [R.29]
  </LinkFile>{" "}

- <LinkFile name="pizza-svgrepo-com.svg" target="_blank" download>
    SVG √† utiliser comme favicon (ou ic√¥ne de votre site web)
  </LinkFile>
- <LinkFile name="js-logo.png" target="_blank" download>
    Logo √† utiliser dans le footer
  </LinkFile>

<br />

Veuillez ajouter la musique du site dans **/sound** :

<LinkFile name="Infecticide-11-Pizza-Spinoza.mp3" target="_blank" download>
  Pizza Spinoza [R.30]
</LinkFile>

<br />
<br />

### <a id="b4.2"></a> b.4.2) Les abbr√©viations Emmet

Nous allons d'abord cr√©er la structure des √©l√©ments de la page au sein d'un nouveau fichier
**/index.html**.

Pour g√©n√©rer le corps de sa page HTML, on peut utiliser une abbr√©viation Emmet au sein de
VS Code ; pour cela tappez **html:5** dans le fichier **index.html** et donnez le titre
**Pizzeria** √† votre page web.

<br />

Les abbr√©viations Emmet permettent donc d'automatiser l'√©criture d'HTML.

<br />

En savoir plus sur les abbr√©viations Emmet : https://docs.emmet.io/abbreviations/ [[R.31]](/references/#r31)

<br />

## <a id="b4.3"></a> b.4.4) Cr√©ation de la structure de l'IHM

Nous allons ajouter un header, un main et un footer √† notre page web.

<br />

Le header reprendra un simple texte ("We love Pizza").

<br />

Le main contiendra seulement une balise **audio** pour offrir un lecteur contenant la
chanson Pizza Spinoza.

Le footer pr√©sentera un texte ("But we also love JS") et le logo de JS.

<br />

Voici ce que devrait donner √† ce stade-ci votre **index.html** :

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pizzeria</title>
  </head>
  <body>
    <header>
      <h1>We love Pizza</h1>
    </header>

    <main>
      <audio id="audioPlayer" controls autoplay>
        <source
          src="./sound/Infecticide-11-Pizza-Spinoza.mp3"
          type="audio/mpeg"
        />
        Your browser does not support the audio element.
      </audio>
    </main>

    <footer>
      <h1>But we also love JS</h1>
      <img src="./img/js-logo.png" alt="" />
    </footer>
  </body>
</html>
```

<br />

Ex√©cutez cette page web, m√™me si √ßa n'est pas tr√®s esth√©tique,
tous les √©l√©ments sont pr√©sents.

<br />

## <a id="b4.4"></a> b.4.4) Mise en forme

A l'aide de CSS, nous allons mettre en forme notre page web via un nouveau fichier
√† cr√©er : **`/stylesheets/style.css`**.

Nous souhaitons que le layout de la page fasse toujour, au minimum,
la hauteur compl√®te du navigateur ; pour ce faire nous allons :

- utiliser un body repris comme un un √©l√©ment Flexbox faisant 100% de hauteur.
- param√©trer le **main** pour lui permettre de remplir l'espace disponible.

<br />

Ainsi, le footer donnera l'effet d'√™tre "sticky" en bas de la page.

De plus, nous allons ajouter "pizza.jpg" comme background de l'√©l√©ment **html**.

Voici le code de **/stylesheets/style.css** :

```css
html, body {
    height: 100%;
    margin: 0;
}

body { 
    /*to easily deal with sticky footer*/
    display: flex;
    flex-direction: column;
    background-image : url(../img/pizza.jpg);
    background-size : cover;
}


header{
    text-align: center;
}

main{
    text-align: center;
     /*to easily deal with sticky footer:
     grow the main to fill the space*/
    flex: 1 0 auto;
}

footer{
    text-align: center;    
}

footer img {
    height: 50px;
}

footer h1{
    color: white;
}
```

Pour appliquer la stylesheet √† **index.html**, il suffit d'ajouter cette balise
dans **index.html** √† la fin de la balise **head** :

```html
<link rel="stylesheet" href="./stylesheets/style.css" />
```

<br />

Pour ajouter cette balise, il est possible de juste taper l'abbr√©viation Emmet "link:css" dans VS Code.
Il ne reste plus qu'√† ajouter le chemin vers le fichier au sein de **href**.
Dans la valeur de **href**, si vous tapez "./", vous verrez tous les fichiers et r√©pertoires disponibles.

<br />

üëç Il est recommand√© d'utiliser un chemin relatif dans **href** et d'utiliser l'autocompl√©tion
afin de ne pas se tromper dans l'√©criture du chemin d'un fichier.

<br />

Il est temps d'ajouter le fichier favicon comme logo pour notre site.

Tapez l'abbr√©viation Emmet "link:favicon" √† la fin de la balise **head** d'**index.html**.
Une balise de ce genre doit avoir √©t√© ajout√©e :

```html
<link
  rel="shortcut icon"
  href="./img/pizza-svgrepo-com.svg"
  type="image/svg+xml"
/>
```

<br />

La page web de la pizzeria devrait para√Ætre pas trop mal √† ce stade ci.

<br />

## <a id="b4.5"></a> b.4.5) Ajout d'interactivit√©

Nous souhaitons maintenant rendre cette page un peu plus interactive.

Nous nous sommes rendu compte que les clients de la pizzeria ont des difficult√©s √† cliquer
juste sur le bouton Play / Stop du lecteur.

D√®s lors, nous allons permettre aux visiteurs de cliquer n'importe o√π
sur la page pour d√©marrer ou stopper la musique.

Nous allons ajouter un script **index.js** g√©rant les clics des utilisateurs sur la
page :

```js
const body = document.querySelector("body");

body.addEventListener("click", startOrStopSound);

function startOrStopSound() {
  const myAudioPlayer = document.querySelector("#audioPlayer");

  if (myAudioPlayer.paused) myAudioPlayer.play();
  else myAudioPlayer.pause();
}
```

<br />

Ici, √† l'aide d'un script JS et du DOM, nous pouvons acc√©der √† l'HTMLAudioElement
contenu dans la page web.
Nous avons ensuite √† toutes les propri√©t√©s et fonctions mises √† disposition par cet objet

<br />

Pour ajouter le fichier JS externe √† la page HTML √† la fin de la balise **body**,
vous pouvez utiliser une abbr√©viation Emmet "script:src" et il ne vous restera plus
qu'√† indiquer le chemin vers **index.js** au sein de **src**.

```html
<script src="./index.js"></script>
```

<br />

Voila, vous devriez pouvoir bien ex√©cuter la HomePage du site de la pizzeria qui traite des
clics n'importe o√π sur la page.

<br />

## <a id="b4.6"></a> b.4.6) Ajout d'une librairie externe

Nous souhaiterions ajouter une librairie externe √† notre application et l'utiliser afin
d'afficher une petite animation sur notre HomePage.

<br />{" "}

Apr√®s quelques recherches dans google, nous d√©couvrons la librairie 
[Animate.css](https://animate.style/) [[R.32]](/references/#r32).

<br />

En lisant la documentation, nous voyons que pour ajouter la librairie √† notre application,
il suffit d'ajouter cette balise √† une page HTML :

```html
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>
```

<br />

Et pour utiliser cette librairie, nous pouvons avoir un titre qui rebondit en utilisant une
classe CSS de cette fa√ßon, directement au sein d'une page HTML :

```html
<h1 class="animate__animated animate__bounce">We love Pizza</h1>
```

<br />

Toujours en lisant la documentation, si nous souhaitons ajouter un d√©lai au rebondissement,
nous pouvons le faire de cette fa√ßon, √† l'aide d'une classe CSS :

```html
<h1 class="animate__animated animate__bounce animate__delay-2s">
  But we also love JS
</h1>
```

<br />

Veuillez mettre √† jour votre page **index.html** :

```html numbered {9-12,16,36-38}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pizzeria</title>
    <link rel="icon" href="./img/pizza-svgrepo-com.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./stylesheets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body>
    <header>
      <h1 class="animate__animated animate__bounce">We love Pizza</h1>
    </header>

    <main>
      <p>My HomePage</p>
      <p>
        Because we love JS, you can also click on the header to stop / start the
        music ; )
      </p>

      <audio id="audioPlayer" controls autoplay>
        <source
          src="./sound/Infecticide-11-Pizza-Spinoza.mp3"
          type="audio/mpeg"
        />
        Your browser does not support the audio element.
      </audio>
    </main>

    <footer>
      <h1 class="animate__animated animate__bounce animate__delay-2s">
        But we also love JS
      </h1>
      <img src="./img/js-logo.png" alt="" />
    </footer>

    <script src="./index.js"></script>
  </body>
</html>
```

<br />

Nous avons tr√®s facilement ajout√© deux animations √† notre application web sans effort,
en nous reposant sur une librairie externe.

<br />

Si tout fonctionne bien, faites un commit de votre repo (**web2**) avec le message
"**classic-hmi**".

<br/>

En cas de souci, vous pouvez acc√©der au code final de ce tutorial ici :
[classic-hmi](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/classic-hmi).

<br />

## <a id="c"></a> c) Exercice 1.1 : Cr√©er un repository local et distant pour g√©rer vos exercices

Veuillez cr√©er un repository local qui reprendra tous les
exercices que vous allez r√©aliser.

Ce repository doit reprendre la structure de r√©pertoires
que vous allez mettre en place pour couvrir les 8 modules
de cours.

<br />

Voici comment nous souhaitons que vous organisiez
cette structure de r√©pertoires :

- **`/web2`**
  - **`/web2/exercises/module1`**
  - **`/web2/exercises/module2`**
  - **`/web2/exercises/module3`**
  - **`/web2/exercises/module4`**
  - **`/web2/exercises/module5`**
  - **`/web2/exercises/module6`**
  - **`/web2/exercises/module7`**
  - **`/web2/exercises/module8`**

<br />

Veuillez cr√©er un web repo portant le nom **web2**.

<br/>

N'oubliez pas d'ajouter un fichier **`.gitignore`** √† votre repo :

```
# ignore all node_modules folders and nested folders & files
node_modules
# ignore the specific VS Code configuration parameters
.vscode
# ignore the specific packages versions installed by the developper
package-lock.json
# ignore the development environment variables (if any)
.env
# ignore all dist directories files (and subdirectories) from .gitignore
dist/*
# but (re)include specific dist directory files, e.g.
#!frontend-essentials/step-1/dist
```

<br/>

Si √ßa n'est pas d√©j√† fait, veuillez 
[installer Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) 
[[R.34]](/references/#r34).


<AuthenticatedBlock>

Pour ce faire, veuillez :

- Cr√©er votre Gitlab repository dans le Gitlab offert par Vinci. Pour vous logger sur la plateforme Gitlab de Vinci, acc√©dez √† https://gitlab.vinci.be/ , puis cliquez sur **Sign in with Azure AD**.
- Cr√©er un projet "private" sur GitLab portant le **web2**.
- Ajouter comme membre les deux enseignants associ√©s au cours (r√¥le de "Developer") :
  - S√©bastien Strebelle
  - e-Baron (Raphael Baroni)
  - NB : pour ce faire, dans l'interface web de GitLab : **Settings**, **Members**, **Invite member**, **Choose a role permission : Developer**.

<br />

Veuillez soumettre le lien vers votre web repository (qqch du genre https://gitlab.vinci.be/votre_username/web2.git) via le devoir associ√© sous Moodle.
Pour trouver le lien vers votre repo, il vous suffit de cliquer sur **Clone** dans votre projet sous Gitlab, et de prendre l'info associ√©e √† **Clone with HTTPS**.

</AuthenticatedBlock>

<br />

NB : Lorsque vous allez ajouter une remote pour vous
synchroniser avec votre web repository,
nous vous conseillons d'utiliser l'URL associ√©e √† **Clone with HTTPS**.
Si vous souhaitez malgr√© tout vous connecter en SSH, vous pouvez consulter cet article : https://dev.to/sndrx/how-to-set-up-an-ssh-key-and-use-it-in-gitlab--42p1.

<br />

## <a id="d"></a> d) Exercice 1.2 : 1er script externe

Via un script JS externe, veuillez cr√©er une application web affichant,
au chargement d'une page HTML, un pop-up dont le message reprend
la date et l'heure au moment de l'affichage de ce pop-up.

<br />

Ce m√™me message doit √™tre affich√© dans la console.

Pour ce faire, vous allez cr√©er, puis appeler, une fonction **addDateTime(message)** qui renvoie une string concat√©nant :

- La date et l'heure √† l'appel de la fonction
- Le message pass√© en argument de la fonction

<br />

ü§ù Vous pouvez vous aider du code donn√© ci-dessous :

```js
const dateTimeNow = new Date();
console.log(dateTimeNow.toLocaleDateString()); // 17/08/2020
console.log(dateTimeNow.toLocaleTimeString()); // 13:26:15
```

<br />

Autre r√©f√©rence pouvant vous aider :
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date

<br />

Le code de votre application web doit se retrouver dans votre repository local et
votre web repository (normalement appel√© **web2**) dans un r√©pertoire nomm√©
**/exercises/module1/1.2**.

<br />

## <a id="e"></a> e) Exercice 1.3 : compteur d'√©v√©nements

Veuillez r√©aliser une application web permettant d'afficher un compteur de clics sur votre
page web.

<br />

Affichez le message suivant sur votre page web :

- Au 5√®me clic : ¬´ Bravo, bel √©chauffement ! ¬ª
- Au 10√®me clic : ¬´ Vous √™tes pass√© ma√Ætre en l'art du clic ! ¬ª

<br />

N'oubliez pas, bien s√ªr, d'afficher le compteur de clics sur votre page.

<br />

#### ü§ù Tips

- Vous avez besoin d'un container pour afficher de l'information.
  Vous pouvez utiliser la propri√©t√© **innerHtml** ou **textContent** d'un paragraphe
  **`<p>`** ou d'un **`<span>`** pour afficher votre compteur.
- Vous pouvez faire de m√™me pour afficher votre message.
- Vous pouvez ajouter un gestionnaire d'√©v√©nement sur l'objet **window** de votre navigateur.

<br />

Le code de votre application web doit se retrouver dans votre repository local et
votre web repository (normalement appel√© **web2**) dans un r√©pertoire nomm√©
**/exercises/module1/1.3**.

<br />

## <a id="f"></a> f) Exercice 1.4 : √©v√©nements diff√©r√©s dans le temps

Veuillez r√©aliser une application web permettant d'afficher un feu rouge.

<br />

Votre feu rouge devra continuellement alterner l'affichage de trois couleurs :

- rouge pendant 2 secondes
- orange pendant 2 secondes
- vert pendant 2 secondes

<br />

Lors d'un clic sur votre feu rouge, veuillez stopper ou r√©activer le rafra√Æchissement
de son affichage.

<br />

#### ü§ù Tips

- Vous avez besoin d'un container pour afficher une couleur.
  Vous pourriez utiliser la propri√©t√© **style.backgroundColor** d'une div.
- Quelles sont les fonctions permettant de lancer & stopper des appels √† intervalles de
  temps bien d√©termin√©s ? N'h√©sitez pas √† jeter un oeil
  au ¬ßb.3.7) [Gestion d'intervalles de temps](#b3.7).

<br />

Le code de votre application web doit se retrouver dans votre repository local et
votre web repository (normalement appel√© **web2**) dans un r√©pertoire nomm√©
**/exercises/module1/1.4**.

<br />

## <a id="g"></a> g) üç¨ Exercice 1.5 : autres √©v√©nements

N'h√©sitez pas √† lib√©rer votre cr√©ativit√© et approfondir la gestion des √©v√©nements.

Vous pourriez compl√©ter l'exercice 1.3 en g√©rant d'autres √©v√©nements que le clic.

<br />

Voici quelques id√©es :

- Affichez des informations cach√©es de votre page lorsque les utilisateurs
  passent la souris sur une partie bien pr√©cise de la page :
  par exemple, apparition d'une image quand la souris se trouve sur sa zone d'affichage,
  disparition de l'image lorsque la souris en sort (ou ne s'y trouve pas).
- R√©alisez une action sp√©cifique lors d'un clic droit sur votre page‚Ä¶
- C'est votre application web, qu'est ce qui serait chouette √† ajouter ? üòâ
